Bowei Wang
1462495
part1
1.
the variable seqno is used in stop and wait protocol, with initial value of 1,2,3.....
The value of it is defined in structure to represent the number of date.

2.
Vary MAXHOPS will have affect on algrithm performance.
with MAXHOPS = 4 in node 1, after 100 secs, we get:
generated: 14  received:14
with MAXHOPS = 2 in node 1, after 100 secs, we get:
generated:27  received:22
with MAXHOPS = 1 in node 1, after 100 secs, we get:
generated: 46  received:39
With a largher MAXHOPS, the host will wait a longer time for each packets, that is it will jumps to next packet when 4 irrelevant data received, therefor it can get more ACK. However the MAXHOPS is smaller, the host will wait for a shorter time, that is when 1 irrelevant data received, it will jump to next one, so it can send more packets with a lower back-information get rate.

3.
ALL LINKS & âˆ¼(1<<arrived on) will calculate the seq number of the pacaket that haven't receive a ACK.
The floods use this expression in 
"flood2(packet, length, ALL_LINKS & ~(1<<arrived_on) );"
to retransmit the pacakets that not yet received the correspond ACK.

4.
a.if CHECK(CNET_disable_application(p.dest)); is comment out, the program will terminate with 8 nodes on network for 5 mins, besides, many error is generated, the receive rate is low.

b.Under the case unmodified program runs on a network of 21 nodes, the program will terminate befroe 5 mins, with most of the sent packets received.
static EVENT_HANDLER(down_to_network)
5.
a. It will comes to case NL_DATA, which will take the data and send a ACK back. Or comes to NL_ACK, which will take the ACK and regard the packet as a received packet.


b.It will come to check if hopcount < MAXHOPS, and decide whether next flood3 will be called.

c.It will check whether it is the ACK that the host is expected if so, add it to finished packets else do nothing.

